---
layout: post
title: BOJ.1874 ìŠ¤íƒìˆ˜ì—´ | stack
description: >
sitemap: true
categories: 
  - devnotes
  - coding-tests
tags: stack
excerpt_separator: <!--more-->
hide_last_modified: true
---
* toc
{:toc .large-only}
ë°±ì¤€ 1874ë²ˆ ë¬¸ì œì— ëŒ€í•œ í’€ì´ê³¼ì •ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.

ìŠ¤íƒ ìë£Œêµ¬ì¡°ë¡œ ë¶„ë¥˜ë˜ëŠ” ë¬¸ì œìœ í˜•ìœ¼ë¡œ ì¡°ê±´ì„ ìŠ¤íƒìœ¼ë¡œ êµ¬í˜„í•˜ëŠ” ê²ƒë„ ì˜¤ë˜ê±¸ë ¸ìœ¼ë‚˜, ì´í›„ ì²« í’€ì´ì—ì„œ `ì‹œê°„ì´ˆê³¼`ê°€ ë°œìƒí•˜ì—¬ ì‹œê°„ì´ˆê³¼ê°€ ë°œìƒí•œ ì›ì¸ê³¼ ê·¸ í•´ê²°ë°©ì•ˆì— ëŒ€í•´ ì„¤ëª…í•˜ì˜€ìŠµë‹ˆë‹¤.

<!--more-->

![image-20250331185711317](../../../images/2025-03-31-02Boj1874/image-20250331185711317.png)

### ğŸ“Œì •ë‹µ

```python
import sys

N = int(input())
targets = [int(sys.stdin.readline().strip()) for _ in range(N)]
stack = []
answer = []
last_number = 1

for target in targets:
    # targetì„ ë§Œë“¤ê¸° ìœ„í•´ last_numberë¶€í„° ìŠ¤íƒì— push
    while last_number <= target:
        stack.append(last_number)
        answer.append('+')
        last_number += 1
    
    # ìŠ¤íƒ topì´ targetì´ë©´ pop
    if stack and stack[-1] == target:
        stack.pop()
        answer.append('-')
    else:
        print("NO")
        exit(0)  # í”„ë¡œê·¸ë¨ ì¦‰ì‹œ ì¢…ë£Œ

print("\n".join(answer))  # ë¦¬ìŠ¤íŠ¸ë¥¼ ê°œí–‰ ë¬¸ìë¡œ ì¶œë ¥
```

### í’€ì´ê³¼ì •

#### 1ì°¨ ì˜¤ë‹µ - ì‹œê°„ì´ˆê³¼

ì½”ë“œë¥¼ ëª¨ë‘ ì‘ì„±í•˜ê³  [ë°˜ë¡€ë¥¼ ì°¾ëŠ” ì‚¬ì´íŠ¸](https://testcase.ac/problems/1874)ì—ì„œ ë°˜ë¡€ë¥¼ í™•ì¸í•œ ê²°ê³¼ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” ëª¨ë‘ í†µê³¼í•˜ì˜€ì§€ë§Œ ê²°ë¡ ì ìœ¼ë¡  `ì‹œê°„ì´ˆê³¼`ê°€ ë°œìƒí•˜ì—¬ ì‹¤íŒ¨í•˜ì˜€ë‹¤.

```python
import sys

N = int(input())
targets = [sys.stdin.readline().strip() for _ in range(N)]

stack = []
answer = []
last_number = 1
is_possible = True

for target in targets:
    while is_possible:
        if not stack:
            stack.append(last_number)
            answer.append('+')
            last_number += 1
        else:
            if int(target) == stack[-1]:
                stack.pop()
                answer.append('-')
                break
            elif int(target) in stack and int(target) > stack[-1]:
                while int(target) != stack[-1]:
                    stack.pop()
                    answer.append('-')
                stack.pop()
                answer.append('-')
                break
            elif int(target) not in stack and int(target) >= last_number:
                while int(target) != stack[-1]:
                    stack.append(last_number)
                    last_number += 1
                    answer.append('+')
                stack.pop()
                answer.append('-')
                break
            else:
                is_possible = False

if is_possible:
    for ans in answer:
        print(ans)
else:
    print("NO")
```

ê°€ì¥ ì´ˆê¸°ì— êµ¬ìƒí•œ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

1. ì´ˆê¸°ë³€ìˆ˜ ì„¤ì •

   ```python
   stack = []       # ìŠ¤íƒ ì—­í• ì„ í•˜ëŠ” ë¦¬ìŠ¤íŠ¸
   answer = []      # ì—°ì‚°ê¸°ë¡ ì €ì¥
   last_number = 1  # ìŠ¤íƒì— ë„£ì„ ìˆ˜(1ë¶€í„° ì‹œì‘)
   is_possible = True  # ê²°ê³¼ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€
   ```

2. ìŠ¤íƒ ì—°ì‚°

   ```python
   # ìŠ¤íƒì´ ë¹„ì–´ìˆìœ¼ë©´ ìˆ«ì push
         if not stack:
             stack.append(last_number)
             answer.append('+')
             last_number += 1
   # ìŠ¤íƒì˜ topì´ targetì´ë©´ pop
         else:
             if int(target) == stack[-1]:
                 stack.pop()
                 answer.append('-')
                 break
   # ìŠ¤íƒì˜ targetì´ ì¡´ì¬í•˜ì§€ë§Œ topë³´ë‹¤ í° ê²½ìš° 
             elif int(target) in stack and int(target) > stack[-1]:
                 while int(target) != stack[-1]:
                     stack.pop()
                     answer.append('-')
                 stack.pop()
                 answer.append('-')
                 break
   # targetì´ ì•„ì§ push ë˜ì§€ ì•Šì€ ê²½ìš°
             elif int(target) not in stack and int(target) >= last_number:
                 while int(target) != stack[-1]:
                     stack.append(last_number)
                     last_number += 1
                     answer.append('+')
                 stack.pop()
                 answer.append('-')
                 break
   ```

   #### ë¬¸ì œì 

   ìœ„ ì½”ë“œì˜ ë¬¸ì œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

   - ë¶ˆí•„ìš”í•œ `while is_possible:` ë£¨í”„<BR>`for target in targets:`ì—ì„œ ì´ë¯¸ `N`ë²ˆ ë°˜ë³µí•˜ë¯€ë¡œ while ë¬¸ì´ í•„ìš” ì—†ìŒ.

   - `int(target) in stack` ì²´í¬ ë¶ˆí•„ìš”<br>ìŠ¤íƒ ë‚´ë¶€ë¥¼ ê²€ìƒ‰í•˜ëŠ” ì—°ì‚°ì€ O(N)ì´ë¼ ë¹„íš¨ìœ¨ì .

   - `not stack`ì—ì„œ pushí•˜ëŠ” ë¶€ë¶„ì´ ë”°ë¡œ ìˆìŒ<br>ì•„ë˜ ì¡°ê±´ì—ì„œ `last_number`ë¥¼ pushí•˜ëŠ” ì½”ë“œê°€ ìˆìœ¼ë¯€ë¡œ ì¤‘ë³µ.

   ë”°ë¼ì„œ ì•„ë˜ì™€ ê°™ì´ ë¦¬íŒ©í† ë§ í•˜ì˜€ë‹¤.

   #### ë¦¬íŒ©í† ë§ ë°©ì•ˆ

   1. `while is_possible:` ì œê±° â†’ `for target in targets:` ë§Œìœ¼ë¡œ ì¶©ë¶„

   2.  ë¶ˆí•„ìš”í•œ `int(target) in stack` ì œê±° â†’ ìŠ¤íƒ ê²€ìƒ‰ O(N) â†’ O(1)ë¡œ ìµœì í™”

   3. `not stack` ì²´í¬ ì—†ì´ ë°”ë¡œ `while last_number <= target:`ìœ¼ë¡œ push

   4. `NO`ì¼ ê²½ìš° `exit(0)`ë¡œ ì¦‰ì‹œ ì¢…ë£Œ (ì‹œê°„ ì ˆì•½)

   5. ì¶œë ¥ ìµœì í™” (`"\n".join(answer)`) â†’ `print()` í˜¸ì¶œì„ ìµœì†Œí™”í•˜ì—¬ ì†ë„ ê°œì„ 